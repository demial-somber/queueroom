:root {
	--bg-dark: #060610;
	--panel: #0f1220;
	--text: #eaf4ff;
	--muted: #9fb6d0;
	--accent1: #ff2d95;
	--accent2: #00e6ff;
	--accent3: #8a6cff;
	--glass: rgba(255, 255, 255, 0.03);
	--shadow: 0 12px 40px rgba(4, 6, 20, 0.7);
}

/* ===== Reset / базовые правила ===== */
@font-face {
	font-family: 'Unageo';
	src: url('/fonts/Unageo-Bold.woff') format('woff');
	font-style: normal;
	font-display: swap;
}

html,
body {
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
	background: linear-gradient(180deg, var(--bg-dark), #050511);
	color: var(--text);
	font-family: 'Unageo', system-ui, -apple-system, 'Segoe UI', Roboto,
		'Helvetica Neue', Arial;
	box-sizing: border-box;
}

*,
*::before,
*::after {
	box-sizing: inherit;
}

/* ===== Container (поиск) ===== */
.container {
	position: relative; /* обёртка для контейнера поиска */
}

/* Поисковая панель — позиция абсолютная как в HTML/CSS обсуждении */
.search-box-container {
	position: absolute;
	top: 5vh;
	left: 15vh;
	display: inline-flex;
	align-items: center;
	height: 50px;
	padding: 0;
	background: linear-gradient(
		180deg,
		rgba(255, 255, 255, 0.02),
		rgba(255, 255, 255, 0.01)
	);
	border-radius: 28px;
	overflow: hidden;
	box-sizing: border-box;
	border: 1px solid rgba(138, 108, 255, 0.06);
	transition: width 420ms cubic-bezier(0.2, 0.9, 0.3, 1), background 220ms;
	width: 50px; /* начальная закрытая ширина */
	overflow: hidden; /* скрыть input пока закрыто */
	transition: width 420ms cubic-bezier(0.2, 0.9, 0.3, 1);
}
/* раскрытое состояние — показываем поле */
.search-box-container.open {
	width: 320px; /* OPEN_WIDTH из JS */
}
/* Сброс для дочерних элементов */
.search-box-container > * {
	box-sizing: border-box;
	height: 100%;
	margin: 0;
	padding: 0 10px;
	border: 0;
	outline: none;
	background: transparent;
	font-family: inherit;
}

/* Кнопка слева (лупа как img) */
.search-box-container .submit {
	width: 50px;
	height: 50px;
	min-width: 50px;
	border: none;
	padding: 0;
	margin: 0;
	background: transparent;
	cursor: pointer;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	position: relative;
}

/* Поле ввода */
.search-box {
	width: calc(
		100% - 50px
	); /* занимает всё место в раскрытом контейнере, с учётом кнопки 50px */
	min-width: 0; /* важно: предотвращает «выталкивание» контейнера */
	box-sizing: border-box;
	padding: 0 18px;
	font-size: 0.98rem;
	color: var(--text);
	background: transparent;
	border: none;
	line-height: 50px;
	caret-color: var(--accent2);
}

/* Сообщение-ответ (аналог .response) */
.response {
	position: absolute;
	top: calc(5vh + 60px);
	left: 15vh;
	color: var(--muted);
	font-size: 0.95rem;
	opacity: 0;
	transition: opacity 300ms ease;
}

/* Показывать response добавлением класса .visible (скрипт) */
.response.visible {
	opacity: 1;
}

/* ===== Header / профиль ===== */
header {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	height: 15vh;
	gap: 12px;
	font-size: 48px;
	color: var(--text);
}

#profileIcon {
	position: absolute;
	top: 2vh;
	right: 2vh;
	width: 7vh;
	height: 7vh;
	border-radius: 50%;
	background: linear-gradient(180deg, var(--accent3), rgba(138, 108, 255, 0.6));
	box-shadow: 0 6px 18px rgba(138, 108, 255, 0.12),
		inset 0 -6px 12px rgba(0, 0, 0, 0.25);
}

#nameUser {
	position: absolute;
	top: 2vh;
	right: 10vh;
	font-size: 3vh;
	color: var(--text);
}

#statusUser {
	position: absolute;
	top: 5vh;
	right: 10vh;
	font-size: 2.6vh;
	color: var(--muted);
}

/* ===== Main area ===== */
main {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	height: 80vh;
	gap: 12px;
}

/* Play button */
main > #playButton {
	position: relative;
	width: 300px;
	height: 300px;
	border-radius: 50%;
	overflow: visible; /* псевдоэлемент выходит за пределы, чтобы замаскировать край */
	border: none;
	/* базовый фон (оставьте ваш улучшенный градиент) */
	background: radial-gradient(
			circle at 30% 20%,
			rgba(255, 45, 149, 0.2) 0%,
			rgba(255, 45, 149, 0.12) 15%,
			rgba(138, 108, 255, 0.06) 40%,
			rgba(0, 0, 0, 0) 75%
		),
		linear-gradient(135deg, var(--accent1) 0%, var(--accent3) 100%);
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: var(--shadow);
	cursor: pointer;
}

/* псевдоэлемент чуть больше круга — маскирует резкий пиксельный край */
main > #playButton::after {
	content: '';
	position: absolute;
	left: -4px;
	top: -4px;
	right: -4px;
	bottom: -4px;
	border-radius: 50%;
	pointer-events: none;
	/* лёгкая полупрозрачная маска, чтобы сгладить переход */
	background: radial-gradient(
		circle at 50% 50%,
		rgba(0, 0, 0, 0) 60%,
		rgba(0, 0, 0, 0.02) 80%,
		rgba(0, 0, 0, 0.04) 100%
	);
	mix-blend-mode: screen;
	z-index: 0;
}
main > #playButton:hover {
	transform: scale(1.12);
}
main > #playButton > svg,
main > #playButton > img {
	display: block;
	width: 100vh;
	height: 100vh;
	pointer-events: none;
	-webkit-user-drag: none;
	user-drag: none;
	position: relative;
	z-index: 2;
	filter: drop-shadow(0 6px 18px rgba(0, 0, 0, 0.45));
}
/* Заголовки и прогресс */
main > #currentSongName {
	font-size: 6.5vh;
	color: var(--text);
	margin-top: 1vh;
}
main > #currentSongTitle {
	font-size: 2.6vh;
	margin-top: 0.4vh;
	color: var(--muted);
}

#progressBar {
	margin-top: 1vh;
	width: 70vh;
	height: 10px;
	border-radius: 999px;
	background: rgba(255, 255, 255, 0.04);
	overflow: hidden;
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.02);
}
#progressBar .fill {
	height: 100%;
	width: 40%; /* пример заполнения */
	background: linear-gradient(90deg, var(--accent2), var(--accent3));
	box-shadow: 0 6px 18px rgba(0, 230, 255, 0.08),
		inset 0 -2px 8px rgba(0, 0, 0, 0.2);
	transition: width 320ms ease;
}

#timeOfSound {
	margin-top: 0.6vh;
	color: var(--muted);
	font-size: 1.8vh;
}

/* ===== Удаление лишних границ/полос ===== */
/* Убедимся, что между input и кнопкой нет бордера */
.search-box-container .search-box,
.search-box-container .submit {
	border: none;
	box-shadow: none;
	background-clip: padding-box;
}

/* ===== Переходы и фокус ===== */
.search-box:focus {
	outline: none;
	box-shadow: inset 0 0 0 2px rgba(138, 108, 255, 0.08);
}

/* ===== Адаптив ===== */
@media (max-width: 900px) {
	main > #currentSongName {
		font-size: 5.2vh;
	}
	main > #playButton {
		width: 220px;
		height: 220px;
	}
	#progressBar {
		width: 60vw;
	}
	.search-box {
		width: calc(100vw - 120px);
	}
}

@media (max-width: 420px) {
	.search-box {
		width: calc(100% - 50px);
	}
	.search-box-container {
		left: 10px;
		right: 10px;
		width: calc(100% - 20px);
	}
	main > #playButton {
		width: 180px;
		height: 180px;
	}
	#nameUser,
	#statusUser {
		right: 6vh;
	}
}

/* ===== Left queue panel ===== */
#leftQueue {
	position: fixed;
	left: 0;
	top: 0;
	bottom: 0;
	width: 320px;
	padding: 18px;
	background: linear-gradient(
		180deg,
		rgba(15, 18, 32, 0.95),
		rgba(10, 12, 22, 0.9)
	);
	backdrop-filter: blur(6px);
	box-shadow: 4px 0 24px rgba(0, 0, 0, 0.6);
	z-index: 120;
	display: flex;
	flex-direction: column;
	gap: 12px;
}

/* отступ для основного контента (чтобы не накладывалось) */
body.with-left-queue main {
	margin-left: 320px;
}

/* header внутри панели */
#leftQueue .queue-header {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

/* встроенная поисковая панель в левой колонке */
.queue-search {
	display: flex;
	align-items: center;
	gap: 8px;
	height: 44px;
	padding: 6px;
	background: linear-gradient(
		180deg,
		rgba(255, 255, 255, 0.02),
		rgba(255, 255, 255, 0.01)
	);
	border-radius: 12px;
	border: 1px solid rgba(138, 108, 255, 0.06);
}
.queue-search .queue-toggle {
	width: 36px;
	height: 36px;
	background: transparent;
	border: none;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	flex: 0 0 36px;
}
.queue-search-input {
	flex: 1 1 auto;
	min-width: 0;
	border: none;
	background: transparent;
	color: var(--text);
	padding: 6px 8px;
	font-size: 0.95rem;
}

/* заголовок */
.queue-title {
	margin: 0;
	color: var(--muted);
	font-size: 1rem;
	letter-spacing: 0.6px;
}

/* список треков */
.queue-list {
	list-style: none;
	margin: 0;
	padding: 0;
	overflow: auto;
	flex: 1 1 auto;
	display: flex;
	flex-direction: column;
	gap: 8px;
}

/* карточка трека */
.queue-item {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 10px;
	border-radius: 10px;
	background: linear-gradient(
		90deg,
		rgba(255, 255, 255, 0.01),
		rgba(255, 255, 255, 0)
	);
	transition: background 0.18s ease, transform 0.12s ease;
}
.queue-item:hover {
	background: linear-gradient(
		90deg,
		rgba(0, 230, 255, 0.03),
		rgba(138, 108, 255, 0.02)
	);
	transform: translateY(-2px);
}

.qi-index {
	width: 34px;
	height: 34px;
	border-radius: 8px;
	background: rgba(255, 255, 255, 0.03);
	display: flex;
	align-items: center;
	justify-content: center;
	color: var(--muted);
	font-weight: 700;
	flex: 0 0 34px;
}

.qi-meta {
	flex: 1 1 auto;
	min-width: 0;
}
.qi-title {
	color: var(--text);
	font-weight: 700;
	font-size: 0.95rem;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}
.qi-artist {
	color: var(--muted);
	font-size: 0.85rem;
	margin-top: 3px;
}

/* кнопка удаления */
.qi-remove {
	background: transparent;
	border: none;
	color: var(--muted);
	cursor: pointer;
	flex: 0 0 28px;
}

/* футер панели */
.queue-footer {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 12px;
	padding-top: 6px;
	border-top: 1px solid rgba(255, 255, 255, 0.02);
}
.queue-clear {
	background: transparent;
	border: 1px solid rgba(255, 255, 255, 0.04);
	color: var(--text);
	padding: 6px 12px;
	border-radius: 8px;
	cursor: pointer;
}
.queue-count {
	color: var(--muted);
	font-size: 0.9rem;
}
/* Стиль кнопки Очистить в левой панели */
.queue-clear {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 8px 12px;
	min-width: 84px;
	height: 40px;
	border-radius: 10px;
	border: 1px solid rgba(255, 255, 255, 0.06);
	background: linear-gradient(
		180deg,
		rgba(255, 255, 255, 0.02),
		rgba(255, 255, 255, 0.01)
	);
	color: var(--text);
	font-weight: 700;
	font-size: 0.9rem;
	cursor: pointer;
	transition: transform 140ms ease, box-shadow 160ms ease, background 140ms ease,
		color 120ms ease;
	box-shadow: 0 6px 18px rgba(138, 108, 255, 0.06);
}

/* hover / active */
.queue-clear:hover {
	transform: translateY(-2px);
	background: linear-gradient(
		180deg,
		rgba(138, 108, 255, 0.06),
		rgba(138, 108, 255, 0.03)
	);
	border-color: rgba(138, 108, 255, 0.18);
	box-shadow: 0 10px 28px rgba(138, 108, 255, 0.12);
}
.queue-clear:active {
	transform: translateY(0);
	box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25) inset;
}

/* иконка внутри кнопки (если добавите) */
.queue-clear .qc-icon {
	display: inline-block;
	width: 16px;
	height: 16px;
	opacity: 0.95;
	transform: translateY(0);
}

/* disabled состояние (когда очередь пуста) */
.queue-clear[disabled],
.queue-clear.disabled {
	cursor: not-allowed;
	opacity: 0.45;
	transform: none;
	box-shadow: none;
	background: linear-gradient(
		180deg,
		rgba(255, 255, 255, 0.01),
		rgba(255, 255, 255, 0)
	);
	border-color: rgba(255, 255, 255, 0.02);
	color: var(--muted);
}
